<!DOCTYPE html>
<html ng-app="sos">
  <head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified materialize CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/css/materialize.min.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <%= csrf_meta_tags %>

    <title>&#60;sos&#62;</title>

  </head>
  <body ng-controller="RequestsController as ctrl" ng-cloak>
    <nav class="white" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="#" class="brand-logo black-text">&#60;sos&#62;</a>
      <ul class="right">
        <% if logged_in? %>
          <li><a href="#" class="black-text"><%= "Logged in as #{current_user.email}" %></a></li>
        <% else %>
          <li><a href="#" class="black-text">Logged Out</a></li>
        <% end %>
      </ul>

      <ul id="nav-mobile" class="side-nav black-text">
        <li><a href="#">My Account</a></li>
      </ul>
    </div>
  </nav>

<% if !logged_in? %>
<p class="flash">
  <%= flash.notice %>
</p>

<div class="container">
  <div class="card large white">
    <div class="card-content white-text">
      <form action="/sesson.json" method="POST">
        <span class="card-title black-text">Log in or Sign Up</span>
        <input type="hidden" name="authenticity_token"
        value="<%= form_authenticity_token %>">

        <div class="input-field col s12">
          <input type="email" name="user[email]" id="email">
          <label for="email">email</label>
        </div>

        <div class="input-field col s12" id="password">
          <input type="password" name="user[password]" id="password">
          <label for="password">password</label>
        </div>

        <div class="input-field col s12">
          <input type="submit" value="Sign Up">
        </div>

      </form>
    </div>
  </div>
</div>
<% end %>

<% if logged_in? %>

<div id="googleMap" style="margin:0 auto;width:100%;height:380px; max-width: 952px; border-radius: 5px;"></div>

<p class="flash">
  <%= flash.notice %>
</p>

    <%= yield %>

<% end %>

<!-- switch for minified version when moving to production -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<!-- Compiled and minified materialize JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.3/js/materialize.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js"></script>
<%= javascript_include_tag 'angular'  %>
<%= javascript_include_tag 'ng-file-upload'  %>

  </body>
</html>
